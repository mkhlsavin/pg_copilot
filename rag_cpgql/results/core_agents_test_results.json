{
  "test_name": "Core Agents Integration Test",
  "total_questions": 3,
  "valid_queries": 2,
  "validity_rate": 66.66666666666666,
  "avg_generation_time": 4.712158997853597,
  "avg_enrichment_coverage": 0.7916666666666666,
  "results": [
    {
      "question": "How does PostgreSQL handle vacuum operations?",
      "analysis": {
        "intent": "explain-concept",
        "domain": "vacuum",
        "keywords": [
          "vacuum"
        ],
        "confidence": 0.47,
        "question_length": 45,
        "has_code_terms": false
      },
      "retrieval_stats": {
        "qa_retrieved": 3,
        "cpgql_retrieved": 5,
        "avg_qa_similarity": 0.774555504322052,
        "avg_cpgql_similarity": 0.2487221921304073,
        "domain_filtered": false
      },
      "enrichment_coverage": 0.875,
      "query": "cpg.method.name(\\\"VACUUM\\\").tag.nameExact(\\\"function-purpose\\\").valueExact(\\\"maintenance\\\").l\"]",
      "valid": false,
      "error": "Query must end with execution directive (.l, .toList, etc.)",
      "generation_time": 6.113198757171631
    },
    {
      "question": "Find all functions related to WAL checkpointing",
      "analysis": {
        "intent": "find-function",
        "domain": "wal",
        "keywords": [
          "checkpoint",
          "wal",
          "WAL"
        ],
        "confidence": 0.79,
        "question_length": 47,
        "has_code_terms": true
      },
      "retrieval_stats": {
        "qa_retrieved": 3,
        "cpgql_retrieved": 5,
        "avg_qa_similarity": 0.6183580358823141,
        "avg_cpgql_similarity": 0.28783498307506183,
        "domain_filtered": false
      },
      "enrichment_coverage": 0.75,
      "query": "cpg.method.name(\".*checkpoint.*\").tag.nameExact(\"function-purpose\").valueExact(\"logging\").l",
      "valid": true,
      "error": "",
      "generation_time": 4.047946214675903
    },
    {
      "question": "What data structures are used in MVCC snapshot management?",
      "analysis": {
        "intent": "explain-concept",
        "domain": "mvcc",
        "keywords": [
          "MVCC",
          "mvcc",
          "snapshot"
        ],
        "confidence": 0.6900000000000001,
        "question_length": 58,
        "has_code_terms": true
      },
      "retrieval_stats": {
        "qa_retrieved": 3,
        "cpgql_retrieved": 5,
        "avg_qa_similarity": 0.668133278687795,
        "avg_cpgql_similarity": 0.20763390115531893,
        "domain_filtered": false
      },
      "enrichment_coverage": 0.75,
      "query": "cpg.call.name(\"MVCC.*snapshot\").tag.nameExact(\"function-purpose\").valueExact(\"transaction-management\").l",
      "valid": true,
      "error": "",
      "generation_time": 3.975332021713257
    }
  ]
}